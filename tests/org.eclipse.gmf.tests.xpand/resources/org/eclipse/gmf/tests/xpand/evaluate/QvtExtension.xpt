«EXTENSION org::eclipse::gmf::tests::xpand::evaluate::QvtLibrary»

«DEFINE checkStringContextInvocation(String positiveAnswer, String negativeAnswer) FOR String-»
«IF this.getDummyStringContextual() == this»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkStringStaticInvocation(String positiveAnswer, String negativeAnswer) FOR String-»
«IF getDummyStringContextual(this) == this»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkIntConvextInvocation(String positiveAnswer, String negativeAnswer) FOR Integer-»
«IF this.getDummyIntStatic() == this»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkIntStaticInvocation(String positiveAnswer, String negativeAnswer) FOR Integer-»
«IF getDummyIntStatic(this) == this»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkBoolean(String positiveAnswer, String negativeAnswer) FOR Boolean-»
«IF getDummyBoolean(this) == this»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«REM»
«DEFINE checkDeployedMetaType(String positiveAnswer, String negativeAnswer) FOR EAttribute-»
«IF getDummyUserType(this) == this»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»
«ENDREM»

«DEFINE checkCollection(String positiveAnswer, String negativeAnswer) FOR Collection[String]-»
«EXPAND checkCollectionInternal(getDummyCollection(this), positiveAnswer, negativeAnswer)-»
«ENDDEFINE»

«DEFINE checkCollectionInternal(Collection[String] qvtCollection, String positiveAnswer, String negativeAnswer) FOR Collection[String]-»
«IF qvtCollection.size() == this.size() && this.containsAll(qvtCollection)»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkSet(String positiveAnswer, String negativeAnswer) FOR Set[Boolean]-»
«EXPAND checkSetInternal(getDummySet(this), positiveAnswer, negativeAnswer)-»
«ENDDEFINE»

«DEFINE checkSetInternal(Set[Boolean] qvtSet, String positiveAnswer, String negativeAnswer) FOR Set[Boolean]-»
«IF qvtSet.size() == this.size() && this.containsAll(qvtSet)»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkSequence(String positiveAnswer, String negativeAnswer) FOR List[Boolean]-»
«EXPAND checkSequenceInternal(getDummySequence(this), positiveAnswer, negativeAnswer)-»
«ENDDEFINE»

«DEFINE checkSequenceInternal(List[Boolean] qvtList, String positiveAnswer, String negativeAnswer) FOR List[Boolean]-»
«IF qvtList.size() == this.size() && this.containsAll(qvtList)»«EXPAND checkListInternal(qvtList, positiveAnswer, negativeAnswer)»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkListInternal(List[Boolean] qvtList, String positiveAnswer, String negativeAnswer) FOR List[Boolean]-»
«IF qvtList.size() == 0 && this.size() == 0»«positiveAnswer-»
«ELSEIF qvtList.first() == this.first()»«EXPAND checkListInternal((List[Boolean]) qvtList.withoutFirst(), positiveAnswer, negativeAnswer) FOR (List[Boolean]) this.withoutFirst()-»
«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkBag(String positiveAnswer, String negativeAnswer) FOR List[Boolean]-»
«EXPAND checkCollectionInternal(getDummyBag(this), positiveAnswer, negativeAnswer)-»
«ENDDEFINE»

«DEFINE checkCollectionInternal(Collection[Boolean] qvtCollection, String positiveAnswer, String negativeAnswer) FOR Collection[Boolean]-»
«IF qvtCollection.size() == this.size() && this.containsAll(qvtCollection)»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»

«DEFINE checkOrderedSet(String positiveAnswer, String negativeAnswer) FOR Set[Integer]-»
«EXPAND checkSetInternal(getDummyOrderedSet(this), positiveAnswer, negativeAnswer)-»
«ENDDEFINE»

«DEFINE checkSetInternal(Set[Integer] qvtSet, String positiveAnswer, String negativeAnswer) FOR Set[Integer]-»
«IF qvtSet.size() == this.size() && this.containsAll(qvtSet)»«positiveAnswer»«ELSE»«negativeAnswer»«ENDIF-»
«ENDDEFINE»