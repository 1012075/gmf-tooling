	/**
	 * @generated
	 */
	protected <%=importManager.getImportedName("org.eclipse.gef.commands.Command")%> getCreateCommand(<%=importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.CreateElementRequest")%> req) {
<%for (Iterator<? extends GenNode> nodes = childNodes.iterator(); nodes.hasNext(); ) {
	GenNode genChildNode = nodes.next();
	TypeModelFacet modelFacet = genChildNode.getModelFacet();
	if (modelFacet == null) {
		continue;
	}%>
		if (<%=importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName())%>.<%=genChildNode.getUniqueIdentifier()%> == req.getElementType()) {
<%	if (!modelFacet.isPhantomElement()) {%>		
			if (req.getContainmentFeature() == null) {
				req.setContainmentFeature(<%if (modelFacet.getContainmentMetaFeature() != null) {%><%=importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName())%>.eINSTANCE.get<%=modelFacet.getContainmentMetaFeature().getFeatureAccessorName()%>()
<%										} else {%>/* FIXME no containment feature found in the genmodel, toolsmith need to specify correct one here manually */<%}%>);
			}
<%	}%>
			return getMSLWrapper(new <%=importManager.getImportedName(genChildNode.getCreateCommandQualifiedClassName())%>(req));
		}
<%}%>
		return super.getCreateCommand(req);
	}