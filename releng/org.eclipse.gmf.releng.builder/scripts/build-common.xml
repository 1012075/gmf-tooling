<?xml version="1.0"?>
<project default="">

	<property file="build.properties"/>
	<property file="tags.properties"/>

	<target name="cc.init" if="usingCC">
		<copy todir="${ccwebapplocation}/css" overwrite="true">
		    <fileset dir="${scripts}/css"/>
		</copy>
		<copy todir="${ccwebapplocation}/xsl" overwrite="true">
		    <fileset dir="${scripts}/xsl"/>
		</copy>
	</target>
	
	<target name="cc.cleanup">
		<echo message="Cleaning up build results for CruiseControl"/>
		<delete dir="${cc.publish}/lastresults" failonerror="false"/>
	</target>
		
	<target name="cc.publish">
		<echo message="Publishing build results for CruiseControl"/>
		<copy todir="${cc.publish}/lastresults">
		    <fileset dir="${artifacts}/drops/${buildLabel}"/>
		</copy>
	</target>

	<target name="cleanupArtifacts">
		 <property file="build.properties"/>
		<delete includeEmptyDirs="true">
			<fileset dir="${buildRoot}/artifacts" includes="**/${buildType}*/**" defaultexcludes="no"/>
		</delete>
	</target>
			
	<!-- TODO: Get rid of this!! -->
	<target name="initLocalMirror">		
		<ant antfile="updatesite.local.xml" target="init.site">
			<property name="updatesite.name" value="interim"/>
		</ant>
	</target>
	
</project>
